<ion-header [translucent]="true" class="print:hidden">
  <ion-toolbar>
    <ion-title>Detalle</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Detalle</ion-title>
    </ion-toolbar>
  </ion-header> -->
  <ion-card class="bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300">
    <ion-card-header>
      <ion-card-title class="font-bold">Detalle</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      @if (credito) {
      <div class="space-y-2 lg:columns-2 print:columns-2">
        <p><span class="font-bold">Crédito N°: </span>{{credito.venta.comprobante}}</p>
        <p><span class="font-bold">Cliente: </span>{{credito.venta.cliente?.apellido + ", " +
          credito.venta.cliente?.nombre}}</p>
        <p><span class="font-bold">Fecha Inicio: </span>{{credito.fechaInicio | date: 'dd/MM/YYYY'}}</p>
        <p><span class="font-bold">Cant. de cuotas: </span>{{credito.cantidadCuotas}}</p>
        <p><span class="font-bold">Período: </span>{{periodos[credito.periodo]}}</p>
        <p><span class="font-bold">Monto cuota: </span>{{credito.montoCuota | currency: 'ARS'}}</p>
        <p><span class="font-bold">Fecha Últ. Pago: </span>{{credito.fechaUltimoPago | date}}</p>
        <p><span class="font-bold">Estado: </span>{{estadosCreditos[credito.estado]}}</p>
      </div>
      <hr class="my-4">
      <div class="relative overflow-x-auto print:overflow-hidden print:w-full">
        <table class="w-full text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap">
          <thead class="text-xs whitespace-nowrap text-center uppercase bg-gray-200 print:bg-gray-200 dark:bg-gray-700">
            <tr>
              <th class="px-4 py-3">Cuota N°</th>
              <th class="px-4 py-3">Fecha Venc.</th>
              <th class="px-4 py-3">Monto</th>
              <th class="px-4 py-3">Estado</th>
              <th class="px-4 py-3">Monto Pagado</th>
              <th class="px-4 py-3">Fecha Pago</th>
              <th class="px-4 py-3"></th>
            </tr>
          </thead>
          <tbody class="text-center">
            @for (cuota of credito.cuotas; track cuota.id) {
            <tr
              class="odd:bg-white even:bg-primary-200 border-b dark:odd:bg-gray-900 dark:even:bg-blue-900 dark:border-gray-800">
              <td class="px-4 py-3">{{cuota.cuotaNro}}</td>
              <td class="px-4 py-3">{{cuota.fechaVencimiento | date: 'dd/MM/YYYY'}}</td>
              <td class="px-4 py-3">{{cuota.montoCuota | currency: 'ARS'}}</td>
              <td class="px-4 py-3">{{estadosCuota[cuota.estado]}}</td>
              <td class="px-4 py-3">{{cuota.montoPagado != 0 ? (cuota.montoPagado | currency: 'ARS') : '-'}}</td>
              <td class="px-4 py-3">{{cuota.fechaPago | date: 'dd/MM/YYYY'}}</td>
              <td class="px-4 py-3"></td>
            </tr>
            }
          </tbody>
        </table>
      </div>
      }
    </ion-card-content>
  </ion-card>
</ion-content>
